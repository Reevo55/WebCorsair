[{"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\index.js":"1","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\reportWebVitals.js":"2","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\App.js":"3","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\main.js":"4","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\components\\Logo\\Logo.js":"5","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\auth.js":"6","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\SignIn\\SingIn.js":"7","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\LogIn\\LogIn.js":"8","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\dashboard.js":"9","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Sider\\Sider.js":"10","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Content.js":"11","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\axios\\request.js":"12","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemList\\ItemList.js":"13","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Header\\Header.js":"14","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemList\\ListItem\\ListItem.js":"15","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Item\\Item.js":"16","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemAdd\\ItemAdd.js":"17"},{"size":537,"mtime":1611052190802,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"19"},{"size":665,"mtime":1611084995195,"results":"21","hashOfConfig":"19"},{"size":655,"mtime":1611052737736,"results":"22","hashOfConfig":"19"},{"size":239,"mtime":1611051624442,"results":"23","hashOfConfig":"19"},{"size":1251,"mtime":1611054270308,"results":"24","hashOfConfig":"19"},{"size":2640,"mtime":1611057774454,"results":"25","hashOfConfig":"19"},{"size":2200,"mtime":1611057933831,"results":"26","hashOfConfig":"19"},{"size":2370,"mtime":1611071707420,"results":"27","hashOfConfig":"19"},{"size":1325,"mtime":1611060717745,"results":"28","hashOfConfig":"19"},{"size":1721,"mtime":1611085015310,"results":"29","hashOfConfig":"19"},{"size":1152,"mtime":1611084046304,"results":"30","hashOfConfig":"19"},{"size":1421,"mtime":1611084553265,"results":"31","hashOfConfig":"19"},{"size":230,"mtime":1611068233290,"results":"32","hashOfConfig":"19"},{"size":805,"mtime":1611134423349,"results":"33","hashOfConfig":"19"},{"size":7181,"mtime":1611134740164,"results":"34","hashOfConfig":"19"},{"size":3511,"mtime":1611134907275,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1ohax4u",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"38"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"38"},"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\index.js",[],["81","82"],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\reportWebVitals.js",[],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\App.js",["83","84"],"import logo from './logo.svg';\nimport React from 'react'\nimport './App.module.scss';\nimport Main from './pages/main.js';\nimport Auth from './pages/auth.js';\nimport { BrowserRouter , Route} from 'react-router-dom'\nimport Dashboard from './pages/dashboard'\nimport  Content from './containers/Content/Content.js';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Route exact path='/'>\n          <Main />\n        </Route>\n\n        <Route path='/dashboard' component={Content}>\n        </Route>\n        \n        <Route path='/auth' >\n          <Auth />\n        </Route>\n\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\main.js",[],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\components\\Logo\\Logo.js",["85"],"import React from 'react'\r\nimport logo from '../../assets/images/logo.png'\r\nimport style from './Logo.module.scss'\r\n\r\nfunction Logo() {\r\n    return (\r\n        <img className={style.Logo} src={logo}></img>\r\n    )\r\n}\r\n\r\nexport default Logo\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\auth.js",[],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\SignIn\\SingIn.js",["86","87","88"],"import React, { useState } from 'react'\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Input, Space, Button } from 'antd';\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\nimport axios from 'axios'\r\n\r\nfunction validateEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction SingIn() {\r\n\r\n    const [login, setLogin] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [logLoading, setLogLoading] = useState(false)\r\n\r\n    const loginHandler = (e) => {\r\n        setLogin(e.target.value)\r\n    }\r\n    const passwordHandler = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    const emailHandler = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const submitSignIn = () => {\r\n        setLogLoading(true)\r\n\r\n        if (login != '' && password != '' && validateEmail(email)) {\r\n            axios.post('http://127.0.0.1:5000/users', {\r\n                \"username\": login,\r\n                \"password\": password,\r\n                \"email\": email\r\n            }).then(res => {\r\n                console.log(\r\n                    res\r\n                )\r\n                if(res.status == 201) {\r\n                    alert(\"Your account was added! Please log in!\")\r\n                }\r\n                else {\r\n                    alert(\"Something is wrong!\")\r\n                }\r\n                setLogLoading(false)\r\n            }).catch(e => {\r\n                console.log(e)\r\n                setLogLoading(false)\r\n            })\r\n        }\r\n        else {\r\n            alert(\"Something is wrong! Check your credentials!\")\r\n            setLogLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>Sign In</h1>\r\n            <Space direction=\"vertical\">\r\n                <Input size=\"large\" placeholder=\"username\" prefix={<UserOutlined />} onChange={loginHandler} />\r\n                <Input.Password\r\n                    placeholder=\"input password\"\r\n                    size=\"large\"\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    onChange={passwordHandler}\r\n                />\r\n                <Input placeholder=\"e-mail\" size=\"large\" onChange={emailHandler} />\r\n                <Button type=\"primary\" size='large' onClick={submitSignIn} loading={logLoading}>Sign In</Button>\r\n            </Space>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SingIn","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\LogIn\\LogIn.js",["89","90"],"import React, { useState } from 'react'\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Input, Space, Button,  Modal } from 'antd';\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\nimport axios from 'axios'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction LogIn() {\r\n\r\n    const [login, setLogin] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [logLoading, setLogLoading] = useState(false)\r\n\r\n    const history = useHistory();\r\n\r\n    const logIn = () => {\r\n        console.log('Logged in')\r\n        setLogLoading(true)\r\n\r\n        axios.get('http://127.0.0.1:5000/auth', {\r\n            auth: {\r\n                username: login,\r\n                password: password\r\n            }\r\n        }).then(res => {\r\n            if (res.status == 200) {\r\n                alert(\"Logged In\")\r\n                \r\n                localStorage.setItem('username', login)\r\n                localStorage.setItem('password', password)\r\n\r\n                history.push('/dashboard')\r\n            } else {\r\n                alert(\"Error, try again!\")\r\n            }\r\n            setLogLoading(false);\r\n\r\n        }).catch(e => {\r\n            setLogLoading(false)\r\n            alert(\"Error, try again!\")\r\n        })\r\n    }\r\n\r\n    const loginHandler = (e) => {\r\n        setLogin(e.target.value)\r\n    }\r\n    const passwordHandler = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>Log in</h1>\r\n            <Space direction=\"vertical\">\r\n                <Input size=\"large\" placeholder=\"username\" prefix={<UserOutlined />} onChange={loginHandler} />\r\n                <Input.Password\r\n                    placeholder=\"input password\"\r\n                    size=\"large\"\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    onChange={passwordHandler}\r\n                />\r\n                <Button type=\"primary\" size='large' onClick={logIn} loading={logLoading}>Log In</Button>\r\n                <p>You are not a<Button type=\"link\" href='/auth/signin'>member</Button>yet?</p>\r\n            </Space>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LogIn","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\pages\\dashboard.js",["91","92"],"import React from 'react'\r\nimport { Layout, Menu } from 'antd';\r\nimport {\r\n    UserOutlined,\r\n    LogoutOutlined,\r\n} from '@ant-design/icons';\r\nimport style from './dashboard.module.scss'\r\nimport logo from '../assets/images/logo.png'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout\r\n\r\nfunction Dashboard(props) {\r\n    const history = useHistory()\r\n\r\n    const signOut = () => {\r\n        localStorage.removeItem('username')\r\n        localStorage.removeItem('password')\r\n\r\n        history.push('/')\r\n    }\r\n\r\n    const logIn = () => {\r\n        localStorage.removeItem('username')\r\n        localStorage.removeItem('password')\r\n        history.push('/auth/login')\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Sider\r\n                style={{\r\n                    overflow: 'auto',\r\n                    height: '100vh',\r\n                    position: 'fixed',\r\n                    left: 0,\r\n                    background: 'linear-gradient(90deg, rgba(0, 0, 0, 0.87) 1.01%, #292929 108.84%)'\r\n                }}\r\n\r\n            >\r\n                <div className={style.Logo} onClick={() => history.push('/dashboard')}>\r\n                    <img className={style.LogoImg} src={logo}></img>\r\n                </div>\r\n                <h1 className={style.Greeting}>\r\n                    Hello, {localStorage.getItem('username')}\r\n                </h1>\r\n                <div className={style.Menu}>\r\n                    <Menu theme=\"dark\" mode=\"inline\">\r\n                        <Menu.Item key=\"1\" icon={<UserOutlined />} onClick={logIn}>\r\n                            Log In\r\n                    </Menu.Item>\r\n                        <Menu.Item key=\"2\" icon={<LogoutOutlined />} onClick={signOut}>\r\n                            Sign Out\r\n                    </Menu.Item>\r\n                    </Menu>\r\n                </div>\r\n\r\n            </Sider>\r\n            <Layout className=\"site-layout\" style={{ marginLeft: 200 }}>\r\n                <Content style={{ margin: '24px 16px 0', overflow: 'initial', height: '89vh' }}>\r\n                    {props.children}\r\n                </Content>\r\n                <Footer style={{ textAlign: 'center'}}> Application created by Radoslaw Karbowiak <br /> Ant Design ©2018 Created by Ant UED </Footer>\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Sider\\Sider.js",["93"],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Content.js",["94","95","96"],"import React, { useEffect, useState } from 'react'\r\nimport Dashboard from '../../pages/dashboard'\r\nimport { get } from '../../axios/request'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport ItemList from './ItemList/ItemList'\r\nimport Item from './Item/Item'\r\nimport ItemAdd from './ItemAdd/ItemAdd'\r\n\r\nfunction Content(props) {\r\n    const [items, setItems] = useState([])\r\n    const [spinnLoading, setSpinnLoading] = useState(true)\r\n    const [categories, setCategories] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetchItems()\r\n        console.log('location')\r\n        console.log(props.location)\r\n        get('http://127.0.0.1:5000/categories').then(res => {\r\n            console.log(res.data)\r\n            if (res.status == 200) {\r\n                setCategories(res.data)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchItems()\r\n    }, [props.location]);\r\n\r\n    const fetchItems = () => {\r\n        get('http://127.0.0.1:5000/products').then(res => {\r\n            console.log(res.data)\r\n            if (res.status == 200) {\r\n                setItems(res.data)\r\n                setSpinnLoading(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dashboard >\r\n            <Switch>\r\n                <Route exact path=\"/dashboard\">\r\n                    <ItemList items={items} spinnLoading={spinnLoading} categories={categories} />\r\n                </Route>\r\n                <Route path=\"/dashboard/add\">\r\n                    <ItemAdd categories={categories}/>\r\n                </Route>\r\n                <Route path=\"/dashboard/:product\" component={Item}>\r\n                </Route>\r\n            </Switch>\r\n        </Dashboard>\r\n    )\r\n}\r\n\r\nexport default Content\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\axios\\request.js",[],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemList\\ItemList.js",["97","98","99"],"import React, { useState } from 'react'\r\nimport Header from '../Header/Header.js'\r\nimport style from './ItemList.module.scss'\r\nimport ListItem from './ListItem/ListItem.js'\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { Button } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 60 }} spin />;\r\n\r\n\r\nfunction ItemList(props) {\r\n    const history = useHistory()\r\n\r\n    const itemsHandler = () => {\r\n        return props.items.map(item => {\r\n            if(item != undefined) {\r\n                return <ListItem key={item.id} id={item.id} title={item.name} category={props.categories.find(cat => cat.id == item.category_id)} \r\n                        expected_price={item.expected_price} link={item.link}/>\r\n            } else return null;\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header> \r\n                <h1 style={{fontWeight: 200, margin: 0}}>Produkty</h1> \r\n\r\n                <Button onClick={() => history.push('/dashboard/add')} type=\"primary\" size='large' style={{position: 'absolute', right: '10%', top: '50%'}}>Add product</Button>\r\n            </Header>\r\n\r\n            <div className={style.List}>\r\n                {props.spinnLoading && <Spin indicator={antIcon} />}\r\n                {itemsHandler()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemList\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Header\\Header.js",[],"C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemList\\ListItem\\ListItem.js",["100"],"import React from 'react'\r\nimport style from './ListItem.module.scss'\r\nimport { Tag } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction ListItem({id, title, category, link, expected_price}) {\r\n\r\n    const history = useHistory();\r\n\r\n    const itemClick = (e) => {\r\n        e.stopPropagation();\r\n        console.log(e.target.id)\r\n\r\n        history.push(`/dashboard/${e.target.id}`)\r\n    }\r\n\r\n    return (\r\n        <div className={style.Item} onClick={itemClick} id={id}>\r\n            <a href={link} className={style.Title}>{title}</a>\r\n            \r\n            {category.name != undefined && <Tag className={style.Tag}>{category.name}</Tag>}\r\n\r\n            <h1 className={style.Price}>Expected price: {expected_price} zł</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\Item\\Item.js",["101","102","103","104","105","106","107","108","109","110","111","112","113"],"import React, { useEffect, useState } from 'react'\r\nimport Header from '../Header/Header'\r\nimport { get, getWithBody, post, deleteAx } from '../../../axios/request'\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { ResponsiveLine } from '@nivo/line'\r\nimport style from './Item.module.scss'\r\nimport { Input, Select, RangePicker, DatePicker, Button, Radio } from 'antd';\r\nimport { SettingOutlined, DownloadOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 60 }} spin />;\r\n\r\nfunction Item(props) {\r\n    const [item, setItem] = useState('')\r\n    const [loading, setLoading] = useState(true)\r\n    const [foreCastLoading, setForeCastLoading] = useState(false)\r\n    const [forecastData, setForecastData] = useState('')\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        get(`http://127.0.0.1:5000/product/prices/${props.match.params.product}`).then(res => {\r\n            if (res.status == 200) {\r\n                console.log('data')\r\n                console.log(res.data[0])\r\n                setItem(res.data[0])\r\n                setLoading(false)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const itemToData = (item) => {\r\n        const data = [{\r\n            \"id\": item.name,\r\n            \"color\": \"hsl(101, 70%, 50%)\",\r\n            \"data\":\r\n                item.prices.map((price, index) => {\r\n                    return {\r\n                        'y': price.price,\r\n                        'x': index\r\n                    }\r\n                })\r\n        }]\r\n\r\n        return data\r\n    }\r\n\r\n\r\n    const downloadForecast = () => {\r\n        setForeCastLoading(true)\r\n\r\n        get(`http://127.0.0.1:5000/forecast/${item.id}`).then(res => {\r\n            if (res.status == 200) {\r\n                console.log(res.data)\r\n                setForeCastLoading(false)\r\n                setForecastData(res.data)\r\n            }\r\n        }).catch(e => {\r\n            setForeCastLoading(false)\r\n        })\r\n    }\r\n\r\n    const forecast = () => {\r\n        console.log(forecastData)\r\n        if (forecastData.data == -1) {\r\n            return <p>Forecast cannot be done. Too few data to make any sensible result.</p>\r\n        }\r\n        else if (forecastData != '') {\r\n            return <p>Price in 7 days from now: <span style={{ fontWeight: 500, fontSize: 32 }}>{forecastData.data}</span> zł. Remember this is just a forecast. Decide on your own what to do next.</p>\r\n        }\r\n        else {\r\n            return <p>Forecast result</p>\r\n        }\r\n    }\r\n\r\n    const deleteItem = () => {\r\n        deleteAx(`http://127.0.0.1:5000/products/${item.id}`, {}, {\r\n            auth: {\r\n                username: localStorage.getItem('username'),\r\n                password: localStorage.getItem('password')\r\n            }\r\n        }).then(res => {\r\n            console.log(res)\r\n            alert(\"Item deleted!\")\r\n            history.push('/dashboard')\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {loading ? <Spin indicator={antIcon} /> :\r\n                <>\r\n                    <Header>\r\n                        <h1 style={{ fontWeight: 200, margin: 0 }}>{item.name}</h1>\r\n                        <div style={{ position: 'absolute', right: 5, top: '15%', cursor: 'pointer' }} onClick={deleteItem}><DeleteOutlined /></div>\r\n                    </Header>\r\n\r\n                    <div className={style.TopRow}>\r\n                        <div className={style.Right}>\r\n                            <h2 className={style.Price}>Current price: <br /> <span className={style.Value}>{item.prices[item.prices.length - 1].price} zł</span></h2>\r\n                        </div>\r\n                        <div className={style.Chart}>\r\n                            {MyResponsiveLine(itemToData(item))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={style.BottomRow}>\r\n                        <div className={style.LeftContainer}>\r\n                            <div className={style.Link}>\r\n                                <Input defaultValue={item.link} readOnly />\r\n                                <p>Please, it has to be link to ceneo product!</p>\r\n                            </div>\r\n\r\n                            <div className={style.Date}>\r\n                                <Input value={item.prices[0].created_at} readOnly />\r\n                                <p>First price fetch date</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className={style.RightContainer}>\r\n                            <p>Click to download forecast of price!</p>\r\n                            <Button type=\"primary\" icon={<DownloadOutlined />} size='large' onClick={downloadForecast}> Forecast </Button>\r\n                            {\r\n                                foreCastLoading && <Spin indicator={antIcon} />\r\n                            }\r\n                            {!foreCastLoading && forecast()}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst MyResponsiveLine = (data) => (\r\n    <ResponsiveLine\r\n        data={data}\r\n        margin={{ top: 50, right: 110, bottom: 50, left: 60 }}\r\n        xScale={{ type: 'point' }}\r\n        yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\r\n        yFormat=\" >-.2f\"\r\n        axisTop={null}\r\n        axisRight={null}\r\n        axisBottom={{\r\n            orient: 'bottom',\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: 'reading',\r\n            legendOffset: 36,\r\n            legendPosition: 'middle'\r\n        }}\r\n        axisLeft={{\r\n            orient: 'left',\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: 'Price [zł]',\r\n            legendOffset: -40,\r\n            legendPosition: 'middle'\r\n        }}\r\n        pointSize={10}\r\n        pointColor={{ theme: 'background' }}\r\n        pointBorderWidth={2}\r\n        pointBorderColor={{ from: 'serieColor' }}\r\n        pointLabelYOffset={-12}\r\n        useMesh={true}\r\n        legends={[\r\n            {\r\n                anchor: 'bottom-right',\r\n                direction: 'column',\r\n                justify: false,\r\n                translateX: 100,\r\n                translateY: 0,\r\n                itemsSpacing: 0,\r\n                itemDirection: 'left-to-right',\r\n                itemWidth: 80,\r\n                itemHeight: 20,\r\n                itemOpacity: 0.75,\r\n                symbolSize: 12,\r\n                symbolShape: 'circle',\r\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\r\n                effects: [\r\n                    {\r\n                        on: 'hover',\r\n                        style: {\r\n                            itemBackground: 'rgba(0, 0, 0, .03)',\r\n                            itemOpacity: 1\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]}\r\n    />\r\n)\r\n\r\nexport default Item\r\n","C:\\Users\\rados\\Desktop\\sem-4\\jezyki-skryptowe\\Projekt\\WebCorsair\\Front-End\\web-corsair\\src\\containers\\Content\\ItemAdd\\ItemAdd.js",["114","115","116","117"],"import React, { useState } from 'react'\r\nimport Header from '../Header/Header'\r\nimport { Button, Input, InputNumber, Select } from 'antd';\r\nimport style from './ItemAdd.module.scss'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { post } from '../../../axios/request';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nfunction ItemAdd(props) {\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [cat, setCat] = useState('1')\r\n    const [name, setName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [price, setPrice] = useState('100')\r\n\r\n    const history = useHistory();\r\n\r\n    const handleCategory = (value) => {\r\n        console.log(`selected ${value}`);\r\n\r\n        setCat(value)\r\n    }\r\n    const handlePrice = (value) => {\r\n        console.log(`selected ${value}`);\r\n\r\n        setPrice(value)\r\n    }\r\n    const handleName = (e) => {\r\n        console.log(`selected ${e.target.value}`);\r\n\r\n        setName(e.target.value)\r\n    }\r\n    const handleLink = (e) => {\r\n        console.log(`selected ${e.target.value}`);\r\n\r\n        setLink(e.target.value)\r\n    }\r\n\r\n    const addProduct = () => {\r\n        setLoading(true)\r\n        if (cat != '' && name != '' && link != '' && price != '') {\r\n\r\n            const body = {\r\n                name: name,\r\n                link: link,\r\n                category: cat,\r\n                expected_price: price\r\n            };\r\n\r\n            console.log(body)\r\n            post(`http://127.0.0.1:5000/products`, body).then(res => {\r\n                console.log(res)\r\n                setLoading(false)\r\n                alert(`Success! Product added, current price: ${res.current_price}`)\r\n            }).catch(e => {\r\n                alert(`Something went wrong!`)\r\n                setLoading(false)\r\n            })\r\n        }\r\n        else {\r\n            alert('Enter all data!')\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <h1 style={{ fontWeight: 200, margin: 0 }}>ADD PRODUCT</h1>\r\n            </Header>\r\n            <div className={style.Inputs}>\r\n                <h1> Fill data </h1>\r\n                <Input placeholder={'Name of the product'} onChange={handleName} />\r\n                <br/>\r\n                <Input placeholder={'Link (from ceneo)'} onChange={handleLink} />\r\n                <br/>\r\n\r\n                <p>Expected price, you will get notified by email <br></br> if price drops below this.</p>\r\n                <InputNumber\r\n                    defaultValue={100}\r\n                    formatter={value => `${value}zł`}\r\n                    parser={value => value.replace('zł', '')}\r\n                    onChange={handlePrice}\r\n                />\r\n                <br/>\r\n\r\n                <div>\r\n                    <p>Category</p>\r\n\r\n                    <Select defaultValue=\"Inne\" style={{ width: 120 }} onChange={handleCategory}>\r\n                        {props.categories.map(cat => {\r\n                            return <Option key={cat.id} value={cat.id}>{cat.name}</Option>\r\n                        })}\r\n                    </Select>\r\n                </div>\r\n                <div className={style.Buttons}>\r\n                    <Button type=\"primary\" danger size='large' onClick={() => { history.push('/dashboard') }}>Cancel</Button>\r\n                    <Button type=\"primary\" size='large' onClick={addProduct} loading={loading}>Add product</Button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ItemAdd\r\n",{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":1,"column":8,"nodeType":"124","messageId":"125","endLine":1,"endColumn":12},{"ruleId":"122","severity":1,"message":"126","line":7,"column":8,"nodeType":"124","messageId":"125","endLine":7,"endColumn":17},{"ruleId":"127","severity":1,"message":"128","line":7,"column":9,"nodeType":"129","endLine":7,"endColumn":48},{"ruleId":"130","severity":1,"message":"131","line":32,"column":19,"nodeType":"132","messageId":"133","endLine":32,"endColumn":21},{"ruleId":"130","severity":1,"message":"131","line":32,"column":37,"nodeType":"132","messageId":"133","endLine":32,"endColumn":39},{"ruleId":"130","severity":1,"message":"134","line":41,"column":31,"nodeType":"132","messageId":"133","endLine":41,"endColumn":33},{"ruleId":"122","severity":1,"message":"135","line":3,"column":33,"nodeType":"124","messageId":"125","endLine":3,"endColumn":38},{"ruleId":"130","severity":1,"message":"134","line":27,"column":28,"nodeType":"132","messageId":"133","endLine":27,"endColumn":30},{"ruleId":"122","severity":1,"message":"136","line":11,"column":9,"nodeType":"124","messageId":"125","endLine":11,"endColumn":15},{"ruleId":"127","severity":1,"message":"128","line":42,"column":21,"nodeType":"129","endLine":42,"endColumn":63},{"ruleId":"127","severity":1,"message":"128","line":25,"column":17,"nodeType":"129","endLine":25,"endColumn":59},{"ruleId":"130","severity":1,"message":"134","line":20,"column":28,"nodeType":"132","messageId":"133","endLine":20,"endColumn":30},{"ruleId":"137","severity":1,"message":"138","line":24,"column":8,"nodeType":"139","endLine":24,"endColumn":10,"suggestions":"140"},{"ruleId":"130","severity":1,"message":"134","line":33,"column":28,"nodeType":"132","messageId":"133","endLine":33,"endColumn":30},{"ruleId":"122","severity":1,"message":"141","line":1,"column":17,"nodeType":"124","messageId":"125","endLine":1,"endColumn":25},{"ruleId":"130","severity":1,"message":"131","line":18,"column":21,"nodeType":"132","messageId":"133","endLine":18,"endColumn":23},{"ruleId":"130","severity":1,"message":"134","line":19,"column":125,"nodeType":"132","messageId":"133","endLine":19,"endColumn":127},{"ruleId":"130","severity":1,"message":"131","line":22,"column":28,"nodeType":"132","messageId":"133","endLine":22,"endColumn":30},{"ruleId":"122","severity":1,"message":"142","line":3,"column":15,"nodeType":"124","messageId":"125","endLine":3,"endColumn":26},{"ruleId":"122","severity":1,"message":"143","line":3,"column":28,"nodeType":"124","messageId":"125","endLine":3,"endColumn":32},{"ruleId":"122","severity":1,"message":"144","line":8,"column":25,"nodeType":"124","messageId":"125","endLine":8,"endColumn":36},{"ruleId":"122","severity":1,"message":"145","line":8,"column":38,"nodeType":"124","messageId":"125","endLine":8,"endColumn":48},{"ruleId":"122","severity":1,"message":"146","line":8,"column":58,"nodeType":"124","messageId":"125","endLine":8,"endColumn":63},{"ruleId":"122","severity":1,"message":"147","line":9,"column":10,"nodeType":"124","messageId":"125","endLine":9,"endColumn":25},{"ruleId":"122","severity":1,"message":"148","line":10,"column":8,"nodeType":"124","messageId":"125","endLine":10,"endColumn":13},{"ruleId":"122","severity":1,"message":"149","line":13,"column":9,"nodeType":"124","messageId":"125","endLine":13,"endColumn":15},{"ruleId":"130","severity":1,"message":"134","line":28,"column":28,"nodeType":"132","messageId":"133","endLine":28,"endColumn":30},{"ruleId":"137","severity":1,"message":"150","line":35,"column":8,"nodeType":"139","endLine":35,"endColumn":10,"suggestions":"151"},{"ruleId":"130","severity":1,"message":"134","line":58,"column":28,"nodeType":"132","messageId":"133","endLine":58,"endColumn":30},{"ruleId":"130","severity":1,"message":"134","line":70,"column":31,"nodeType":"132","messageId":"133","endLine":70,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":73,"column":31,"nodeType":"132","messageId":"133","endLine":73,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":45,"column":17,"nodeType":"132","messageId":"133","endLine":45,"endColumn":19},{"ruleId":"130","severity":1,"message":"131","line":45,"column":31,"nodeType":"132","messageId":"133","endLine":45,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":45,"column":45,"nodeType":"132","messageId":"133","endLine":45,"endColumn":47},{"ruleId":"130","severity":1,"message":"131","line":45,"column":60,"nodeType":"132","messageId":"133","endLine":45,"endColumn":62},"no-native-reassign",["152"],"no-negated-in-lhs",["153"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Dashboard' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","'Modal' is defined but never used.","'Header' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.location'. Either include it or remove the dependency array.","ArrayExpression",["154"],"'useState' is defined but never used.","'getWithBody' is defined but never used.","'post' is defined but never used.","'RangePicker' is defined but never used.","'DatePicker' is defined but never used.","'Radio' is defined but never used.","'SettingOutlined' is defined but never used.","'axios' is defined but never used.","'Option' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props.match.params.product'. Either include it or remove the dependency array.",["155"],"no-global-assign","no-unsafe-negation",{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},"Update the dependencies array to be: [props.location]",{"range":"160","text":"161"},"Update the dependencies array to be: [props.match.params.product]",{"range":"162","text":"163"},[824,826],"[props.location]",[1305,1307],"[props.match.params.product]"]